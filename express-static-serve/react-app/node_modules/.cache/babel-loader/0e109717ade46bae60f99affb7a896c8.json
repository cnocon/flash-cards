{"ast":null,"code":"var _jsxFileName = \"/Users/cristin/Sites/flash-cards/src/context/Cards/CardsState.js\";\nimport React, { useReducer } from 'react';\nimport axios from 'axios';\nimport CardsContext from './CardsContext';\nimport CardsReducer from './CardsReducer';\nimport { GET_CARDS } from '../types';\n\nconst CardsState = props => {\n  let initialState = {\n    cards: []\n  };\n  const [state, dispatch] = useReducer(CardsReducer, initialState);\n\n  const getCards = async () => {\n    // Request all category data\n    const categoriesResponse = await axios.get(\"https://arcane-stream-45843.herokuapp.com/categories?property=slug\"); // Use category data to pull in cards\n\n    if (categoriesResponse.data && categoriesResponse.data.length) {\n      try {\n        const data = categoriesResponse.data.map(async pair => {\n          const res = await axios.get(`https://arcane-stream-45843.herokuapp.com/categories/${pair._id}/questions`);\n          const resData = await res.data;\n          return await resData;\n        });\n        dispatch({\n          type: GET_CARDS,\n          payload: data\n        });\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  }; // const getActiveCard = async (id) => {\n  //   try {\n  //     let res = await axios.get(`https://node-hnapi.herokuapp.com/item/${id}`);\n  //     let { data } = res;\n  //     dispatch({ type: GET_ACTIVE_CARD, payload: data });\n  //   } catch (error) {\n  //     console.error(error);\n  //   }\n  // };\n\n\n  return /*#__PURE__*/React.createElement(CardsContext.Provider, {\n    value: {\n      cards: state.cards,\n      getCards\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, props.children);\n};\n\nexport default CardsState;","map":{"version":3,"sources":["/Users/cristin/Sites/flash-cards/src/context/Cards/CardsState.js"],"names":["React","useReducer","axios","CardsContext","CardsReducer","GET_CARDS","CardsState","props","initialState","cards","state","dispatch","getCards","categoriesResponse","get","data","length","map","pair","res","_id","resData","type","payload","error","console","children"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,SAASC,SAAT,QAA0B,UAA1B;;AAEA,MAAMC,UAAU,GAAIC,KAAD,IAAW;AAC5B,MAAIC,YAAY,GAAG;AACjBC,IAAAA,KAAK,EAAE;AADU,GAAnB;AAIA,QAAM,CAAEC,KAAF,EAASC,QAAT,IAAsBV,UAAU,CAACG,YAAD,EAAeI,YAAf,CAAtC;;AAEA,QAAMI,QAAQ,GAAG,YAAY;AAC3B;AACA,UAAMC,kBAAkB,GAAG,MAAMX,KAAK,CAACY,GAAN,CAAU,oEAAV,CAAjC,CAF2B,CAG3B;;AACA,QAAID,kBAAkB,CAACE,IAAnB,IAA2BF,kBAAkB,CAACE,IAAnB,CAAwBC,MAAvD,EAA+D;AAC7D,UAAI;AACF,cAAMD,IAAI,GAAGF,kBAAkB,CAACE,IAAnB,CAAwBE,GAAxB,CAA4B,MAAMC,IAAN,IAAc;AACrD,gBAAMC,GAAG,GAAG,MAAMjB,KAAK,CAACY,GAAN,CAAW,wDAAuDI,IAAI,CAACE,GAAI,YAA3E,CAAlB;AAEA,gBAAMC,OAAO,GAAG,MAAMF,GAAG,CAACJ,IAA1B;AACA,iBAAO,MAAMM,OAAb;AACD,SALY,CAAb;AAOAV,QAAAA,QAAQ,CAAC;AAAEW,UAAAA,IAAI,EAAEjB,SAAR;AAAmBkB,UAAAA,OAAO,EAAER;AAA5B,SAAD,CAAR;AACD,OATD,CASE,OAAOS,KAAP,EAAc;AACdC,QAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACD;AACF;AACF,GAlBD,CAP4B,CA2B5B;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;AAEA,sBACE,oBAAC,YAAD,CAAc,QAAd;AACE,IAAA,KAAK,EAAE;AACLf,MAAAA,KAAK,EAAEC,KAAK,CAACD,KADR;AAELG,MAAAA;AAFK,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMGL,KAAK,CAACmB,QANT,CADF;AAUD,CAhDD;;AAkDA,eAAepB,UAAf","sourcesContent":["import React, { useReducer } from 'react';\nimport axios from 'axios';\nimport CardsContext from './CardsContext';\nimport CardsReducer from './CardsReducer';\nimport { GET_CARDS } from '../types';\n\nconst CardsState = (props) => {\n  let initialState = {\n    cards: [],\n  };\n\n  const [ state, dispatch ] = useReducer(CardsReducer, initialState);\n  \n  const getCards = async () => {\n    // Request all category data\n    const categoriesResponse = await axios.get(\"https://arcane-stream-45843.herokuapp.com/categories?property=slug\");\n    // Use category data to pull in cards\n    if (categoriesResponse.data && categoriesResponse.data.length) {\n      try {\n        const data = categoriesResponse.data.map(async pair => {\n          const res = await axios.get(`https://arcane-stream-45843.herokuapp.com/categories/${pair._id}/questions`);\n          \n          const resData = await res.data;\n          return await resData;\n        });\n\n        dispatch({ type: GET_CARDS, payload: data });\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  };\n\n  // const getActiveCard = async (id) => {\n  //   try {\n  //     let res = await axios.get(`https://node-hnapi.herokuapp.com/item/${id}`);\n  //     let { data } = res;\n\n  //     dispatch({ type: GET_ACTIVE_CARD, payload: data });\n  //   } catch (error) {\n  //     console.error(error);\n  //   }\n  // };\n\n  return (\n    <CardsContext.Provider\n      value={{\n        cards: state.cards,\n        getCards,\n      }}\n    >\n      {props.children}\n    </CardsContext.Provider>\n  );\n};\n\nexport default CardsState;"]},"metadata":{},"sourceType":"module"}