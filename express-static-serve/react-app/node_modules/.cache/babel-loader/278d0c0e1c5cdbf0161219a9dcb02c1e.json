{"ast":null,"code":"import _slicedToArray from\"/Users/cristin/Sites/flash-cards/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext}from'react';import cardsContext from\"../../context/Cards/CardsContext\";import Card from'../Card/Card';import*as Styled from'./Deck.styles';var Deck=function Deck(){var CardsContext=useContext(cardsContext);var _useState=useState(0),_useState2=_slicedToArray(_useState,2),activeIndex=_useState2[0],setActiveIndex=_useState2[1];var _useState3=useState('all'),_useState4=_slicedToArray(_useState3,2),activeCategorySlug=_useState4[0],setActiveCategorySlug=_useState4[1];var handleCategoryClick=function handleCategoryClick(categorySlug){// Set active index back to 0 since we're switching categories\nsetActiveIndex(0);setActiveCategorySlug(categorySlug);};var handleNavClick=function handleNavClick(e){var increment=e.target.tagName==='BUTTON'?e.target.dataset.increment:e.target.parentNode.dataset.increment;var cards=activeCategorySlug==='all'?Object.values(CardsContext.cards).map(function(c){return c.questions;}).flat():CardsContext.cards[activeCategorySlug].questions;var cardCount=cards.length;if(increment>0){setActiveIndex(function(prevActiveIndex){return prevActiveIndex+1<=cardCount-1?prevActiveIndex+1:0;});}else{setActiveIndex(function(prevActiveIndex){return prevActiveIndex-1>=0?prevActiveIndex-1:cardCount-1;});}};useEffect(function(){CardsContext.getCards();CardsContext.getCategories();},[activeCategorySlug,activeIndex]);return/*#__PURE__*/React.createElement(Styled.Deck,null,/*#__PURE__*/React.createElement(Styled.AppHeader,null,/*#__PURE__*/React.createElement(Styled.AppHeading,null,\"Front End Dev Flash Cards\"),/*#__PURE__*/React.createElement(Styled.CategoriesNav,null,/*#__PURE__*/React.createElement(\"a\",{onClick:function onClick(){return handleCategoryClick('all');},key:\"all\",className:activeCategorySlug==='all'?'active':''},\"All\"),CardsContext.categories.sort(function(a,b){return a<b?-1:1;}).map(function(fullCategory,i){if(!fullCategory){return null;}return/*#__PURE__*/React.createElement(\"a\",{className:fullCategory.slug===activeCategorySlug?'active':'',onClick:function onClick(){return handleCategoryClick(fullCategory.slug);},key:\"\".concat(fullCategory._id,\"-\").concat(i)},fullCategory.name);}))),activeCategorySlug==='all'?Object.values(CardsContext.cards).map(function(fullCategory,categoryIndex){return fullCategory.questions;}).flat().map(function(question,i){return/*#__PURE__*/React.createElement(Card,{data:question,activeSide:\"front\",key:\"\".concat(i,\"-\").concat(question._id),position:i,isActive:activeIndex===i,questionCount:activeCategorySlug==='all'?Object.values(CardsContext.cards).map(function(c){return c.questions;}).flat().length:CardsContext.cards[activeCategorySlug].questions.length,navClickHandler:function navClickHandler(){return handleNavClick;}});}):CardsContext.cards[activeCategorySlug].questions.map(function(question,i){return/*#__PURE__*/React.createElement(Card,{data:question,activeSide:\"front\",key:\"\".concat(i,\"-\").concat(question._id),position:i,isActive:activeIndex===i,questionCount:activeCategorySlug==='all'?Object.values(CardsContext.cards).map(function(c){return c.questions;}).flat().length:CardsContext.cards[activeCategorySlug].questions.length,navClickHandler:function navClickHandler(){return handleNavClick;}});}));};export default Deck;","map":{"version":3,"sources":["/Users/cristin/Sites/flash-cards/src/components/Deck/Deck.jsx"],"names":["React","useState","useEffect","useContext","cardsContext","Card","Styled","Deck","CardsContext","activeIndex","setActiveIndex","activeCategorySlug","setActiveCategorySlug","handleCategoryClick","categorySlug","handleNavClick","e","increment","target","tagName","dataset","parentNode","cards","Object","values","map","c","questions","flat","cardCount","length","prevActiveIndex","getCards","getCategories","categories","sort","a","b","fullCategory","i","slug","_id","name","categoryIndex","question"],"mappings":"mHAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,UAArC,KAAuD,OAAvD,CACA,MAAOC,CAAAA,YAAP,KAAyB,kCAAzB,CACA,MAAOC,CAAAA,IAAP,KAAiB,cAAjB,CACA,MAAO,GAAKC,CAAAA,MAAZ,KAAwB,eAAxB,CAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,CACjB,GAAMC,CAAAA,YAAY,CAAGL,UAAU,CAACC,YAAD,CAA/B,CADiB,cAGqBH,QAAQ,CAAC,CAAD,CAH7B,wCAGVQ,WAHU,eAGGC,cAHH,8BAImCT,QAAQ,CAAC,KAAD,CAJ3C,yCAIVU,kBAJU,eAIUC,qBAJV,eAMjB,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAAAC,YAAY,CAAI,CAC1C;AACAJ,cAAc,CAAC,CAAD,CAAd,CACAE,qBAAqB,CAACE,YAAD,CAArB,CACD,CAJD,CAMA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAAAC,CAAC,CAAI,CAC1B,GAAMC,CAAAA,SAAS,CAAGD,CAAC,CAACE,MAAF,CAASC,OAAT,GAAqB,QAArB,CAAgCH,CAAC,CAACE,MAAF,CAASE,OAAT,CAAiBH,SAAjD,CAA6DD,CAAC,CAACE,MAAF,CAASG,UAAT,CAAoBD,OAApB,CAA4BH,SAA3G,CACA,GAAMK,CAAAA,KAAK,CAAGX,kBAAkB,GAAK,KAAvB,CAA+BY,MAAM,CAACC,MAAP,CAAchB,YAAY,CAACc,KAA3B,EAAkCG,GAAlC,CAAsC,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,SAAN,EAAvC,EAAwDC,IAAxD,EAA/B,CAAgGpB,YAAY,CAACc,KAAb,CAAmBX,kBAAnB,EAAuCgB,SAArJ,CACA,GAAME,CAAAA,SAAS,CAAGP,KAAK,CAACQ,MAAxB,CAEA,GAAIb,SAAS,CAAG,CAAhB,CAAmB,CACjBP,cAAc,CAAC,SAAAqB,eAAe,QAAIA,CAAAA,eAAe,CAAG,CAAlB,EAAuBF,SAAS,CAAG,CAAnC,CAAuCE,eAAe,CAAG,CAAzD,CAA6D,CAAjE,EAAhB,CAAd,CACD,CAFD,IAEO,CACLrB,cAAc,CAAC,SAAAqB,eAAe,QAAIA,CAAAA,eAAe,CAAG,CAAlB,EAAuB,CAAvB,CAA2BA,eAAe,CAAG,CAA7C,CAAiDF,SAAS,CAAG,CAAjE,EAAhB,CAAd,CACD,CACF,CAVD,CAYA3B,SAAS,CAAC,UAAM,CACdM,YAAY,CAACwB,QAAb,GACAxB,YAAY,CAACyB,aAAb,GACD,CAHQ,CAGN,CAACtB,kBAAD,CAAqBF,WAArB,CAHM,CAAT,CAKA,mBACE,oBAAC,MAAD,CAAQ,IAAR,mBACE,oBAAC,MAAD,CAAQ,SAAR,mBACE,oBAAC,MAAD,CAAQ,UAAR,kCADF,cAEE,oBAAC,MAAD,CAAQ,aAAR,mBACE,yBAAG,OAAO,CAAE,yBAAMI,CAAAA,mBAAmB,CAAC,KAAD,CAAzB,EAAZ,CAA+C,GAAG,CAAC,KAAnD,CAAyD,SAAS,CAAEF,kBAAkB,GAAK,KAAvB,CAA+B,QAA/B,CAA0C,EAA9G,QADF,CAGIH,YAAY,CAAC0B,UAAb,CAAwBC,IAAxB,CAA6B,SAACC,CAAD,CAAIC,CAAJ,QAAUD,CAAAA,CAAC,CAAGC,CAAJ,CAAQ,CAAC,CAAT,CAAa,CAAvB,EAA7B,EACGZ,GADH,CACO,SAACa,YAAD,CAAeC,CAAf,CAAqB,CACxB,GAAI,CAACD,YAAL,CAAmB,CAAC,MAAO,KAAP,CAAY,CAChC,mBACE,yBAAG,SAAS,CAAEA,YAAY,CAACE,IAAb,GAAsB7B,kBAAtB,CAA2C,QAA3C,CAAsD,EAApE,CACE,OAAO,CAAE,yBAAME,CAAAA,mBAAmB,CAACyB,YAAY,CAACE,IAAd,CAAzB,EADX,CAEE,GAAG,WAAKF,YAAY,CAACG,GAAlB,aAAyBF,CAAzB,CAFL,EAGGD,YAAY,CAACI,IAHhB,CADF,CAOH,CAVD,CAHJ,CAFF,CADF,CAqBI/B,kBAAkB,GAAK,KAAvB,CACEY,MAAM,CAACC,MAAP,CAAchB,YAAY,CAACc,KAA3B,EACCG,GADD,CACK,SAACa,YAAD,CAAeK,aAAf,QAAiCL,CAAAA,YAAY,CAACX,SAA9C,EADL,EAECC,IAFD,GAGCH,GAHD,CAGK,SAACmB,QAAD,CAAWL,CAAX,CAAiB,CACpB,mBACE,oBAAC,IAAD,EACE,IAAI,CAAEK,QADR,CAEE,UAAU,CAAC,OAFb,CAGE,GAAG,WAAKL,CAAL,aAAUK,QAAQ,CAACH,GAAnB,CAHL,CAIE,QAAQ,CAAEF,CAJZ,CAKE,QAAQ,CAAE9B,WAAW,GAAK8B,CAL5B,CAME,aAAa,CACX5B,kBAAkB,GAAK,KAAvB,CACEY,MAAM,CAACC,MAAP,CAAchB,YAAY,CAACc,KAA3B,EAAkCG,GAAlC,CAAsC,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,SAAN,EAAvC,EAAwDC,IAAxD,GAA+DE,MADjE,CAEEtB,YAAY,CAACc,KAAb,CAAmBX,kBAAnB,EAAuCgB,SAAvC,CAAiDG,MATvD,CAWE,eAAe,CAAE,iCAAMf,CAAAA,cAAN,EAXnB,EADF,CAeD,CAnBD,CADF,CAsBEP,YAAY,CAACc,KAAb,CAAmBX,kBAAnB,EAAuCgB,SAAvC,CAAiDF,GAAjD,CAAqD,SAACmB,QAAD,CAAWL,CAAX,CAAiB,CACtE,mBACE,oBAAC,IAAD,EACE,IAAI,CAAEK,QADR,CAEE,UAAU,CAAC,OAFb,CAGE,GAAG,WAAKL,CAAL,aAAUK,QAAQ,CAACH,GAAnB,CAHL,CAIE,QAAQ,CAAEF,CAJZ,CAKE,QAAQ,CAAE9B,WAAW,GAAK8B,CAL5B,CAME,aAAa,CACX5B,kBAAkB,GAAK,KAAvB,CACEY,MAAM,CAACC,MAAP,CAAchB,YAAY,CAACc,KAA3B,EAAkCG,GAAlC,CAAsC,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,SAAN,EAAvC,EAAwDC,IAAxD,GAA+DE,MADjE,CAEEtB,YAAY,CAACc,KAAb,CAAmBX,kBAAnB,EAAuCgB,SAAvC,CAAiDG,MATvD,CAWE,eAAe,CAAE,iCAAMf,CAAAA,cAAN,EAXnB,EADF,CAeD,CAhBC,CA3CN,CADF,CAgED,CA7FD,CA+FA,cAAeR,CAAAA,IAAf","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport cardsContext from \"../../context/Cards/CardsContext\";\nimport Card from '../Card/Card';\nimport * as Styled from './Deck.styles'\n\nconst Deck = () => {\n  const CardsContext = useContext(cardsContext);\n  \n  const [activeIndex, setActiveIndex] = useState(0);\n  const [activeCategorySlug, setActiveCategorySlug] = useState('all');\n\n  const handleCategoryClick = categorySlug => {\n    // Set active index back to 0 since we're switching categories\n    setActiveIndex(0)\n    setActiveCategorySlug(categorySlug)\n  }\n\n  const handleNavClick = e => {\n    const increment = e.target.tagName === 'BUTTON' ? e.target.dataset.increment : e.target.parentNode.dataset.increment;\n    const cards = activeCategorySlug === 'all' ? Object.values(CardsContext.cards).map(c => c.questions).flat() : CardsContext.cards[activeCategorySlug].questions;\n    const cardCount = cards.length;\n    \n    if (increment > 0) {\n      setActiveIndex(prevActiveIndex => prevActiveIndex + 1 <= cardCount - 1 ? prevActiveIndex + 1 : 0)\n    } else { \n      setActiveIndex(prevActiveIndex => prevActiveIndex - 1 >= 0 ? prevActiveIndex - 1 : cardCount - 1) \n    }\n  }\n\n  useEffect(() => {\n    CardsContext.getCards();\n    CardsContext.getCategories();\n  }, [activeCategorySlug, activeIndex]);\n  \n  return (\n    <Styled.Deck>\n      <Styled.AppHeader>\n        <Styled.AppHeading>Front End Dev Flash Cards</Styled.AppHeading>\n        <Styled.CategoriesNav>\n          <a onClick={() => handleCategoryClick('all') } key=\"all\" className={activeCategorySlug === 'all' ? 'active' : ''}>All</a>\n          \n          { CardsContext.categories.sort((a, b) => a < b ? -1 : 1)\n              .map((fullCategory, i) => {\n                if (!fullCategory) {return null}\n                return (\n                  <a className={fullCategory.slug === activeCategorySlug ? 'active' : ''} \n                    onClick={() => handleCategoryClick(fullCategory.slug) }\n                    key={`${fullCategory._id}-${i}`}>\n                    {fullCategory.name}\n                  </a>\n                )\n            })\n          }\n        </Styled.CategoriesNav>\n      </Styled.AppHeader>\n\n      { activeCategorySlug === 'all'\n        ? Object.values(CardsContext.cards)\n          .map((fullCategory, categoryIndex) => fullCategory.questions)\n          .flat()\n          .map((question, i) => {\n            return (\n              <Card \n                data={question}\n                activeSide='front'\n                key={`${i}-${question._id}`}\n                position={i}\n                isActive={activeIndex === i}\n                questionCount={(\n                  activeCategorySlug === 'all' \n                  ? Object.values(CardsContext.cards).map(c => c.questions).flat().length\n                  : CardsContext.cards[activeCategorySlug].questions.length\n                )}\n                navClickHandler={() => handleNavClick}\n              />\n            )\n          })\n        \n        : CardsContext.cards[activeCategorySlug].questions.map((question, i) => {\n          return (\n            <Card \n              data={question}\n              activeSide='front'\n              key={`${i}-${question._id}`}\n              position={i}\n              isActive={activeIndex === i}\n              questionCount={(\n                activeCategorySlug === 'all' \n                ? Object.values(CardsContext.cards).map(c => c.questions).flat().length\n                : CardsContext.cards[activeCategorySlug].questions.length\n              )}\n              navClickHandler={() => handleNavClick} \n            />\n          )\n        })\n      }\n    </Styled.Deck>\n  );\n};\n\nexport default Deck;"]},"metadata":{},"sourceType":"module"}