{"ast":null,"code":"import _slicedToArray from\"/Users/cristin/Sites/flash-cards/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext}from'react';import cardsContext from\"../../context/Cards/CardsContext\";import Card from'../Card/Card';import*as Styled from'./Deck.styles';var Deck=function Deck(){var CardsContext=useContext(cardsContext);var _useState=useState(0),_useState2=_slicedToArray(_useState,2),activeIndex=_useState2[0],setActiveIndex=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),activeCategoryId=_useState4[0],setActiveCategoryId=_useState4[1];var _useState5=useState('all'),_useState6=_slicedToArray(_useState5,2),activeCategorySlug=_useState6[0],setActiveCategorySlug=_useState6[1];var handleCategoryClick=function handleCategoryClick(e,categoryId,categorySlug){// Set active index back to 0 since we're switching categories\nsetActiveIndex(0);setActiveCategorySlug(categorySlug);setActiveCategoryId(categoryId);CardsContext.getActiveCards(activeCategoryId);};var handleNavClick=function handleNavClick(e){var increment=e.target.tagName==='BUTTON'?e.target.dataset.increment:e.target.parentNode.dataset.increment;var cardCount=Object.values(CardsContext.activeCards).map(function(c){return c.questions;}).flat().length;if(increment>0){setActiveIndex(function(prevActiveIndex){return prevActiveIndex+1<cardCount?prevActiveIndex+1:0;});}else{setActiveIndex(function(prevActiveIndex){return prevActiveIndex-1>=0?prevActiveIndex-1:cardCount-1;});}};useEffect(function(){CardsContext.getCards();CardsContext.getCategories();CardsContext.getActiveCards(activeCategoryId);},[activeCategorySlug,activeCategoryId]);return/*#__PURE__*/React.createElement(Styled.Deck,null,/*#__PURE__*/React.createElement(Styled.AppHeader,null,/*#__PURE__*/React.createElement(Styled.AppHeading,null,\"Front End Dev Flash Cards\"),/*#__PURE__*/React.createElement(Styled.CategoriesNav,null,/*#__PURE__*/React.createElement(\"a\",{onClick:function onClick(e){return handleCategoryClick(e,'','all');},key:\"all\",className:activeCategorySlug==='all'?'active':''},\"All\"),CardsContext.categories.sort(function(a,b){return a<b?-1:1;}).map(function(fullCategory,i){if(!fullCategory){return null;}return/*#__PURE__*/React.createElement(\"a\",{className:fullCategory._id==activeCategoryId?'active':'',onClick:function onClick(e){return handleCategoryClick(e,fullCategory._id,fullCategory.slug);},key:\"\".concat(fullCategory._id,\"-\").concat(i)},fullCategory.name);}))),activeCategorySlug==='all'?Object.values(CardsContext.cards).map(function(fullCategory,categoryIndex){return fullCategory.questions;}).flat().map(function(question,i){return/*#__PURE__*/React.createElement(Card,{data:question,activeSide:\"front\",key:\"\".concat(i,\"-\").concat(question._id),position:i,isActive:activeIndex===i,navClickHandler:function navClickHandler(){return handleNavClick;}});}):CardsContext.cards[activeCategorySlug].questions.map(function(question,i){return/*#__PURE__*/React.createElement(Card,{data:question,activeSide:\"front\",key:\"\".concat(i,\"-\").concat(question._id),position:i,isActive:activeIndex===i,navClickHandler:function navClickHandler(){return handleNavClick;}});}));};export default Deck;","map":{"version":3,"sources":["/Users/cristin/Sites/flash-cards/src/components/Deck/Deck.jsx"],"names":["React","useState","useEffect","useContext","cardsContext","Card","Styled","Deck","CardsContext","activeIndex","setActiveIndex","activeCategoryId","setActiveCategoryId","activeCategorySlug","setActiveCategorySlug","handleCategoryClick","e","categoryId","categorySlug","getActiveCards","handleNavClick","increment","target","tagName","dataset","parentNode","cardCount","Object","values","activeCards","map","c","questions","flat","length","prevActiveIndex","getCards","getCategories","categories","sort","a","b","fullCategory","i","_id","slug","name","cards","categoryIndex","question"],"mappings":"mHAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,UAArC,KAAuD,OAAvD,CACA,MAAOC,CAAAA,YAAP,KAAyB,kCAAzB,CACA,MAAOC,CAAAA,IAAP,KAAiB,cAAjB,CACA,MAAO,GAAKC,CAAAA,MAAZ,KAAwB,eAAxB,CAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,CACjB,GAAMC,CAAAA,YAAY,CAAGL,UAAU,CAACC,YAAD,CAA/B,CADiB,cAEqBH,QAAQ,CAAC,CAAD,CAF7B,wCAEVQ,WAFU,eAEGC,cAFH,8BAG+BT,QAAQ,CAAC,EAAD,CAHvC,yCAGVU,gBAHU,eAGQC,mBAHR,8BAImCX,QAAQ,CAAC,KAAD,CAJ3C,yCAIVY,kBAJU,eAIUC,qBAJV,eAMjB,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,CAAD,CAAIC,UAAJ,CAAgBC,YAAhB,CAAiC,CAC3D;AACAR,cAAc,CAAC,CAAD,CAAd,CACAI,qBAAqB,CAACI,YAAD,CAArB,CACAN,mBAAmB,CAACK,UAAD,CAAnB,CACAT,YAAY,CAACW,cAAb,CAA4BR,gBAA5B,EACD,CAND,CAQA,GAAMS,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAAAJ,CAAC,CAAI,CAC1B,GAAMK,CAAAA,SAAS,CAAGL,CAAC,CAACM,MAAF,CAASC,OAAT,GAAqB,QAArB,CAAgCP,CAAC,CAACM,MAAF,CAASE,OAAT,CAAiBH,SAAjD,CAA6DL,CAAC,CAACM,MAAF,CAASG,UAAT,CAAoBD,OAApB,CAA4BH,SAA3G,CACA,GAAMK,CAAAA,SAAS,CAAGC,MAAM,CAACC,MAAP,CAAcpB,YAAY,CAACqB,WAA3B,EAAwCC,GAAxC,CAA4C,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,SAAN,EAA7C,EAA8DC,IAA9D,GAAqEC,MAAvF,CACA,GAAIb,SAAS,CAAG,CAAhB,CAAmB,CACjBX,cAAc,CAAC,SAAAyB,eAAe,QAAIA,CAAAA,eAAe,CAAG,CAAlB,CAAsBT,SAAtB,CAAkCS,eAAe,CAAG,CAApD,CAAwD,CAA5D,EAAhB,CAAd,CACD,CAFD,IAEO,CACLzB,cAAc,CAAC,SAAAyB,eAAe,QAAIA,CAAAA,eAAe,CAAG,CAAlB,EAAuB,CAAvB,CAA2BA,eAAe,CAAG,CAA7C,CAAiDT,SAAS,CAAG,CAAjE,EAAhB,CAAd,CACD,CACF,CARD,CAUAxB,SAAS,CAAC,UAAM,CACdM,YAAY,CAAC4B,QAAb,GACA5B,YAAY,CAAC6B,aAAb,GACA7B,YAAY,CAACW,cAAb,CAA4BR,gBAA5B,EACD,CAJQ,CAIN,CAACE,kBAAD,CAAqBF,gBAArB,CAJM,CAAT,CAMA,mBACE,oBAAC,MAAD,CAAQ,IAAR,mBAEE,oBAAC,MAAD,CAAQ,SAAR,mBACE,oBAAC,MAAD,CAAQ,UAAR,kCADF,cAEE,oBAAC,MAAD,CAAQ,aAAR,mBACE,yBAAG,OAAO,CAAE,iBAAAK,CAAC,QAAID,CAAAA,mBAAmB,CAACC,CAAD,CAAI,EAAJ,CAAQ,KAAR,CAAvB,EAAb,CAAqD,GAAG,CAAC,KAAzD,CAA+D,SAAS,CAAEH,kBAAkB,GAAK,KAAvB,CAA+B,QAA/B,CAA0C,EAApH,QADF,CAGIL,YAAY,CAAC8B,UAAb,CAAwBC,IAAxB,CAA6B,SAACC,CAAD,CAAIC,CAAJ,QAAUD,CAAAA,CAAC,CAAGC,CAAJ,CAAQ,CAAC,CAAT,CAAa,CAAvB,EAA7B,EACGX,GADH,CACO,SAACY,YAAD,CAAeC,CAAf,CAAqB,CACxB,GAAI,CAACD,YAAL,CAAmB,CAAC,MAAO,KAAP,CAAY,CAChC,mBACE,yBAAG,SAAS,CAAEA,YAAY,CAACE,GAAb,EAAoBjC,gBAApB,CAAuC,QAAvC,CAAkD,EAAhE,CACE,OAAO,CAAE,iBAAAK,CAAC,QAAID,CAAAA,mBAAmB,CAACC,CAAD,CAAI0B,YAAY,CAACE,GAAjB,CAAsBF,YAAY,CAACG,IAAnC,CAAvB,EADZ,CAEE,GAAG,WAAKH,YAAY,CAACE,GAAlB,aAAyBD,CAAzB,CAFL,EAGGD,YAAY,CAACI,IAHhB,CADF,CAOH,CAVD,CAHJ,CAFF,CAFF,CAsBIjC,kBAAkB,GAAK,KAAvB,CACEc,MAAM,CAACC,MAAP,CAAcpB,YAAY,CAACuC,KAA3B,EACCjB,GADD,CACK,SAACY,YAAD,CAAeM,aAAf,QAAiCN,CAAAA,YAAY,CAACV,SAA9C,EADL,EAECC,IAFD,GAGCH,GAHD,CAGK,SAACmB,QAAD,CAAWN,CAAX,CAAiB,CACpB,mBACE,oBAAC,IAAD,EACE,IAAI,CAAEM,QADR,CAEE,UAAU,CAAC,OAFb,CAGE,GAAG,WAAKN,CAAL,aAAUM,QAAQ,CAACL,GAAnB,CAHL,CAIE,QAAQ,CAAED,CAJZ,CAKE,QAAQ,CAAElC,WAAW,GAAKkC,CAL5B,CAME,eAAe,CAAE,iCAAMvB,CAAAA,cAAN,EANnB,EADF,CAUD,CAdD,CADF,CAiBEZ,YAAY,CAACuC,KAAb,CAAmBlC,kBAAnB,EAAuCmB,SAAvC,CAAiDF,GAAjD,CAAqD,SAACmB,QAAD,CAAWN,CAAX,CAAiB,CACtE,mBACE,oBAAC,IAAD,EACE,IAAI,CAAEM,QADR,CAEE,UAAU,CAAC,OAFb,CAGE,GAAG,WAAKN,CAAL,aAAUM,QAAQ,CAACL,GAAnB,CAHL,CAIE,QAAQ,CAAED,CAJZ,CAKE,QAAQ,CAAElC,WAAW,GAAKkC,CAL5B,CAME,eAAe,CAAE,iCAAMvB,CAAAA,cAAN,EANnB,EADF,CAUD,CAXC,CAvCN,CADF,CAuDD,CArFD,CAuFA,cAAeb,CAAAA,IAAf","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport cardsContext from \"../../context/Cards/CardsContext\";\nimport Card from '../Card/Card';\nimport * as Styled from './Deck.styles'\n\nconst Deck = () => {\n  const CardsContext = useContext(cardsContext);\n  const [activeIndex, setActiveIndex] = useState(0);\n  const [activeCategoryId, setActiveCategoryId] = useState('');\n  const [activeCategorySlug, setActiveCategorySlug] = useState('all');\n\n  const handleCategoryClick = (e, categoryId, categorySlug) => {\n    // Set active index back to 0 since we're switching categories\n    setActiveIndex(0)\n    setActiveCategorySlug(categorySlug)\n    setActiveCategoryId(categoryId)\n    CardsContext.getActiveCards(activeCategoryId)\n  }\n\n  const handleNavClick = e => {\n    const increment = e.target.tagName === 'BUTTON' ? e.target.dataset.increment : e.target.parentNode.dataset.increment;\n    const cardCount = Object.values(CardsContext.activeCards).map(c => c.questions).flat().length;\n    if (increment > 0) {\n      setActiveIndex(prevActiveIndex => prevActiveIndex + 1 < cardCount ? prevActiveIndex + 1 : 0)\n    } else { \n      setActiveIndex(prevActiveIndex => prevActiveIndex - 1 >= 0 ? prevActiveIndex - 1 : cardCount - 1) \n    }\n  }\n\n  useEffect(() => {\n    CardsContext.getCards();\n    CardsContext.getCategories();\n    CardsContext.getActiveCards(activeCategoryId);\n  }, [activeCategorySlug, activeCategoryId]);\n  \n  return (\n    <Styled.Deck>\n\n      <Styled.AppHeader>\n        <Styled.AppHeading>Front End Dev Flash Cards</Styled.AppHeading>\n        <Styled.CategoriesNav>\n          <a onClick={e => handleCategoryClick(e, '', 'all') } key=\"all\" className={activeCategorySlug === 'all' ? 'active' : ''}>All</a>\n          \n          { CardsContext.categories.sort((a, b) => a < b ? -1 : 1)\n              .map((fullCategory, i) => {\n                if (!fullCategory) {return null}\n                return (\n                  <a className={fullCategory._id == activeCategoryId ? 'active' : ''} \n                    onClick={e => handleCategoryClick(e, fullCategory._id, fullCategory.slug) }\n                    key={`${fullCategory._id}-${i}`}>\n                    {fullCategory.name}\n                  </a>\n                )\n            })\n          }\n        </Styled.CategoriesNav>\n      </Styled.AppHeader>\n\n      { activeCategorySlug === 'all'\n        ? Object.values(CardsContext.cards)\n          .map((fullCategory, categoryIndex) => fullCategory.questions)\n          .flat()\n          .map((question, i) => {\n            return (\n              <Card \n                data={question}\n                activeSide='front'\n                key={`${i}-${question._id}`}\n                position={i}\n                isActive={activeIndex === i}\n                navClickHandler={() => handleNavClick} \n              />\n            )\n          })\n        \n        : CardsContext.cards[activeCategorySlug].questions.map((question, i) => {\n          return (\n            <Card \n              data={question}\n              activeSide='front'\n              key={`${i}-${question._id}`}\n              position={i}\n              isActive={activeIndex === i}\n              navClickHandler={() => handleNavClick} \n            />\n          )\n        })\n      }\n    </Styled.Deck>\n  );\n};\n\nexport default Deck;"]},"metadata":{},"sourceType":"module"}