{"ast":null,"code":"var _jsxFileName = \"/Users/cristin/Sites/flash-cards/src/context/Cards/CardsState.js\";\nimport React, { useReducer } from 'react';\nimport axios from 'axios';\nimport CardsContext from './CardsContext';\nimport CardsReducer from './CardsReducer'; // import { GET_CARDS, GET_ACTIVE_CARD } from '../types';\n\nimport { GET_CARDS } from '../types';\n\nconst CardsState = props => {\n  let initialState = {\n    cards: [],\n    activeCard: null\n  };\n  const [state, dispatch] = useReducer(CardsReducer, initialState);\n\n  const getCards = async () => {\n    let categories;\n\n    try {\n      categories = await axios.get(\"https://arcane-stream-45843.herokuapp.com/categories?property=slug\");\n      dispatch({\n        type: GET_CARDS,\n        payload: data\n      });\n    } catch (error) {\n      console.error(error);\n    }\n\n    let data = {};\n\n    if (categorySlugs.length) {\n      categorySlugs.forEach(async pair => {\n        const res = await axios.get(`https://arcane-stream-45843.herokuapp.com/categories/${pair._id}/questions`);\n        let {\n          cardData\n        } = res;\n        data[pair.slug] = cardData;\n        console.log('data', data);\n      });\n    }\n  }; // const getActiveCard = async (id) => {\n  //   try {\n  //     let res = await axios.get(`https://node-hnapi.herokuapp.com/item/${id}`);\n  //     let { data } = res;\n  //     dispatch({ type: GET_ACTIVE_CARD, payload: data });\n  //   } catch (error) {\n  //     console.error(error);\n  //   }\n  // };\n\n\n  return /*#__PURE__*/React.createElement(CardsContext.Provider, {\n    value: {\n      cards: state.cards,\n      getCards\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, props.children); // return (\n  //   <CardsContext.Provider\n  //     value={{\n  //       cards: state.cards,\n  //       getCards,\n  //       activeCard: state.activeCard,\n  //       getActiveCard,\n  //     }}\n  //   >\n  //     {props.children}\n  //   </CardsContext.Provider>\n  // );\n};\n\nexport default CardsState;","map":{"version":3,"sources":["/Users/cristin/Sites/flash-cards/src/context/Cards/CardsState.js"],"names":["React","useReducer","axios","CardsContext","CardsReducer","GET_CARDS","CardsState","props","initialState","cards","activeCard","state","dispatch","getCards","categories","get","type","payload","data","error","console","categorySlugs","length","forEach","pair","res","_id","cardData","slug","log","children"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,YAAP,MAAyB,gBAAzB,C,CACA;;AACA,SAASC,SAAT,QAA0B,UAA1B;;AAEA,MAAMC,UAAU,GAAIC,KAAD,IAAW;AAC5B,MAAIC,YAAY,GAAG;AACjBC,IAAAA,KAAK,EAAE,EADU;AAEjBC,IAAAA,UAAU,EAAE;AAFK,GAAnB;AAKA,QAAM,CAAEC,KAAF,EAASC,QAAT,IAAsBX,UAAU,CAACG,YAAD,EAAeI,YAAf,CAAtC;;AAEA,QAAMK,QAAQ,GAAG,YAAY;AAC3B,QAAIC,UAAJ;;AACA,QAAI;AACFA,MAAAA,UAAU,GAAG,MAAMZ,KAAK,CAACa,GAAN,CAAU,oEAAV,CAAnB;AAEAH,MAAAA,QAAQ,CAAC;AAAEI,QAAAA,IAAI,EAAEX,SAAR;AAAmBY,QAAAA,OAAO,EAAEC;AAA5B,OAAD,CAAR;AACD,KAJD,CAIE,OAAOC,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACD;;AAED,QAAID,IAAI,GAAG,EAAX;;AAEA,QAAIG,aAAa,CAACC,MAAlB,EAA0B;AACxBD,MAAAA,aAAa,CAACE,OAAd,CAAsB,MAAMC,IAAN,IAAc;AAClC,cAAMC,GAAG,GAAG,MAAMvB,KAAK,CAACa,GAAN,CAAW,wDAAuDS,IAAI,CAACE,GAAI,YAA3E,CAAlB;AACA,YAAI;AAAEC,UAAAA;AAAF,YAAeF,GAAnB;AACAP,QAAAA,IAAI,CAACM,IAAI,CAACI,IAAN,CAAJ,GAAkBD,QAAlB;AACAP,QAAAA,OAAO,CAACS,GAAR,CAAY,MAAZ,EAAoBX,IAApB;AACD,OALD;AAMD;AACF,GApBD,CAR4B,CA8B5B;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;AAEA,sBACE,oBAAC,YAAD,CAAc,QAAd;AACE,IAAA,KAAK,EAAE;AACLT,MAAAA,KAAK,EAAEE,KAAK,CAACF,KADR;AAELI,MAAAA;AAFK,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMGN,KAAK,CAACuB,QANT,CADF,CAzC4B,CAmD5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,CA/DD;;AAiEA,eAAexB,UAAf","sourcesContent":["import React, { useReducer } from 'react';\nimport axios from 'axios';\nimport CardsContext from './CardsContext';\nimport CardsReducer from './CardsReducer';\n// import { GET_CARDS, GET_ACTIVE_CARD } from '../types';\nimport { GET_CARDS } from '../types';\n\nconst CardsState = (props) => {\n  let initialState = {\n    cards: [],\n    activeCard: null,\n  };\n\n  const [ state, dispatch ] = useReducer(CardsReducer, initialState);\n\n  const getCards = async () => {\n    let categories;\n    try {\n      categories = await axios.get(\"https://arcane-stream-45843.herokuapp.com/categories?property=slug\");\n      \n      dispatch({ type: GET_CARDS, payload: data });\n    } catch (error) {\n      console.error(error);\n    }\n    \n    let data = {}\n      \n    if (categorySlugs.length) {\n      categorySlugs.forEach(async pair => {\n        const res = await axios.get(`https://arcane-stream-45843.herokuapp.com/categories/${pair._id}/questions`);\n        let { cardData } = res;\n        data[pair.slug] = cardData;\n        console.log('data', data)\n      })\n    }\n  };\n\n  // const getActiveCard = async (id) => {\n  //   try {\n  //     let res = await axios.get(`https://node-hnapi.herokuapp.com/item/${id}`);\n  //     let { data } = res;\n\n  //     dispatch({ type: GET_ACTIVE_CARD, payload: data });\n  //   } catch (error) {\n  //     console.error(error);\n  //   }\n  // };\n\n  return (\n    <CardsContext.Provider\n      value={{\n        cards: state.cards,\n        getCards,\n      }}\n    >\n      {props.children}\n    </CardsContext.Provider>\n  );\n  // return (\n  //   <CardsContext.Provider\n  //     value={{\n  //       cards: state.cards,\n  //       getCards,\n  //       activeCard: state.activeCard,\n  //       getActiveCard,\n  //     }}\n  //   >\n  //     {props.children}\n  //   </CardsContext.Provider>\n  // );\n};\n\nexport default CardsState;"]},"metadata":{},"sourceType":"module"}