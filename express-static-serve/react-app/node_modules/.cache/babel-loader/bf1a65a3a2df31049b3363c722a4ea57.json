{"ast":null,"code":"var _jsxFileName = \"/Users/cristin/Sites/flash-cards/src/context/Cards/CardsState.js\";\nimport React, { useReducer } from 'react';\nimport axios from 'axios';\nimport { GET_CARDS, GET_ACTIVE_CARDS, GET_CATEGORIES } from '../types';\nimport CardsContext from './CardsContext';\nimport CardsReducer from './CardsReducer';\n\nconst CardsState = props => {\n  const category_id = props.category_id || '';\n  let initialState = {\n    cards: [],\n    activeCards: [],\n    categories: []\n  };\n  const [state, dispatch] = useReducer(CardsReducer, initialState);\n\n  const getCards = async () => {\n    try {\n      const res = await axios.get(\"https://arcane-stream-45843.herokuapp.com/populated-categories\");\n      dispatch({\n        type: GET_CARDS,\n        payload: res.data\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const getActiveCards = async () => {\n    console.log('props', props);\n\n    try {\n      const res = category_id === '' ? await axios.get(`https://arcane-stream-45843.herokuapp.com/populated-categories`) : await axios.get(`https://arcane-stream-45843.herokuapp.com/categories/${category_id}/questions`);\n      dispatch({\n        type: GET_ACTIVE_CARDS,\n        payload: res.data\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const getCategories = async () => {\n    try {\n      const res = await axios.get(`https://arcane-stream-45843.herokuapp.com/categories`);\n      dispatch({\n        type: GET_CATEGORIES,\n        payload: res.data\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(CardsContext.Provider, {\n    value: {\n      categories: state.categories,\n      activeCards: state.activeCards,\n      cards: state.cards,\n      getCategories,\n      getActiveCards,\n      getCards\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, props.children);\n};\n\nexport default CardsState;","map":{"version":3,"sources":["/Users/cristin/Sites/flash-cards/src/context/Cards/CardsState.js"],"names":["React","useReducer","axios","GET_CARDS","GET_ACTIVE_CARDS","GET_CATEGORIES","CardsContext","CardsReducer","CardsState","props","category_id","initialState","cards","activeCards","categories","state","dispatch","getCards","res","get","type","payload","data","error","console","getActiveCards","log","getCategories","children"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SAASC,SAAT,EAAoBC,gBAApB,EAAsCC,cAAtC,QAA4D,UAA5D;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;;AAEA,MAAMC,UAAU,GAAIC,KAAD,IAAW;AAC5B,QAAMC,WAAW,GAAGD,KAAK,CAACC,WAAN,IAAqB,EAAzC;AACA,MAAIC,YAAY,GAAG;AACjBC,IAAAA,KAAK,EAAE,EADU;AAEjBC,IAAAA,WAAW,EAAE,EAFI;AAGjBC,IAAAA,UAAU,EAAE;AAHK,GAAnB;AAMA,QAAM,CAAEC,KAAF,EAASC,QAAT,IAAsBf,UAAU,CAACM,YAAD,EAAeI,YAAf,CAAtC;;AAEA,QAAMM,QAAQ,GAAG,YAAY;AAC3B,QAAI;AACF,YAAMC,GAAG,GAAG,MAAMhB,KAAK,CAACiB,GAAN,CAAU,gEAAV,CAAlB;AACAH,MAAAA,QAAQ,CAAC;AAAEI,QAAAA,IAAI,EAAEjB,SAAR;AAAmBkB,QAAAA,OAAO,EAAEH,GAAG,CAACI;AAAhC,OAAD,CAAR;AACD,KAHD,CAGE,OAAOC,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACD;AACF,GAPD;;AASA,QAAME,cAAc,GAAG,YAAY;AACjCD,IAAAA,OAAO,CAACE,GAAR,CAAY,OAAZ,EAAqBjB,KAArB;;AACA,QAAI;AACF,YAAMS,GAAG,GAAIR,WAAW,KAAK,EAAjB,GACR,MAAMR,KAAK,CAACiB,GAAN,CAAW,gEAAX,CADE,GAER,MAAMjB,KAAK,CAACiB,GAAN,CAAW,wDAAuDT,WAAY,YAA9E,CAFV;AAGAM,MAAAA,QAAQ,CAAC;AAAEI,QAAAA,IAAI,EAAEhB,gBAAR;AAA0BiB,QAAAA,OAAO,EAAEH,GAAG,CAACI;AAAvC,OAAD,CAAR;AACD,KALD,CAKE,OAAOC,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACD;AACF,GAVD;;AAYA,QAAMI,aAAa,GAAG,YAAY;AAChC,QAAI;AACF,YAAMT,GAAG,GAAG,MAAMhB,KAAK,CAACiB,GAAN,CAAW,sDAAX,CAAlB;AACAH,MAAAA,QAAQ,CAAC;AAAEI,QAAAA,IAAI,EAAEf,cAAR;AAAwBgB,QAAAA,OAAO,EAAEH,GAAG,CAACI;AAArC,OAAD,CAAR;AACD,KAHD,CAGE,OAAOC,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACD;AACF,GAPD;;AASA,sBACE,oBAAC,YAAD,CAAc,QAAd;AACE,IAAA,KAAK,EAAE;AACLT,MAAAA,UAAU,EAAEC,KAAK,CAACD,UADb;AAELD,MAAAA,WAAW,EAAEE,KAAK,CAACF,WAFd;AAGLD,MAAAA,KAAK,EAAEG,KAAK,CAACH,KAHR;AAILe,MAAAA,aAJK;AAKLF,MAAAA,cALK;AAMLR,MAAAA;AANK,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAUGR,KAAK,CAACmB,QAVT,CADF;AAcD,CAtDD;;AAwDA,eAAepB,UAAf","sourcesContent":["import React, { useReducer } from 'react';\nimport axios from 'axios';\n\nimport { GET_CARDS, GET_ACTIVE_CARDS, GET_CATEGORIES } from '../types';\nimport CardsContext from './CardsContext';\nimport CardsReducer from './CardsReducer';\n\nconst CardsState = (props) => {\n  const category_id = props.category_id || '';\n  let initialState = {\n    cards: [],\n    activeCards: [],\n    categories: [],\n  };\n\n  const [ state, dispatch ] = useReducer(CardsReducer, initialState);\n  \n  const getCards = async () => {\n    try {\n      const res = await axios.get(\"https://arcane-stream-45843.herokuapp.com/populated-categories\");\n      dispatch({ type: GET_CARDS, payload: res.data });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const getActiveCards = async () => {\n    console.log('props', props);\n    try {\n      const res = (category_id === '')\n        ? await axios.get(`https://arcane-stream-45843.herokuapp.com/populated-categories`)\n        : await axios.get(`https://arcane-stream-45843.herokuapp.com/categories/${category_id}/questions`)\n      dispatch({ type: GET_ACTIVE_CARDS, payload: res.data });\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  const getCategories = async () => {\n    try {\n      const res = await axios.get(`https://arcane-stream-45843.herokuapp.com/categories`);\n      dispatch({ type: GET_CATEGORIES, payload: res.data });\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  return (\n    <CardsContext.Provider\n      value={{\n        categories: state.categories,\n        activeCards: state.activeCards,\n        cards: state.cards,\n        getCategories,\n        getActiveCards,\n        getCards,\n      }}\n    >\n      {props.children}\n    </CardsContext.Provider>\n  );\n}\n\nexport default CardsState;"]},"metadata":{},"sourceType":"module"}